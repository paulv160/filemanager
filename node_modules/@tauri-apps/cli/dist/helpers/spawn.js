import n from"cross-spawn";import{l as i}from"../logger-27e93e7d.js";import o from"chalk";import"ms";var r=i("app:spawn"),s=i("app:spawn",o.red),t=function(i,o,s,t){var e;r('Running "'+i+" "+o.join(" ")+'"'),r();var a=n(i,o,{stdio:"inherit",cwd:s,env:process.env});return a.on("close",(function(n){var o;r(),n&&r('Command "'+i+'" failed with exit code: '+n),t&&t(null!=n?n:0,null!==(o=a.pid)&&void 0!==o?o:0)})),null!==(e=a.pid)&&void 0!==e?e:0},e=function(i,o,t,e){r('[sync] Running "'+i+" "+o.join(" ")+'"'),r();var a=n.sync(i,o,{stdio:"inherit",cwd:t});(a.status||a.error)&&(s(),s('⚠️  Command "'+i+'" failed with exit code: '+a.status),null===a.status&&s('⚠️  Please globally install "'+i+'"'),e&&e(),process.exit(1))};export{t as spawn,e as spawnSync};
